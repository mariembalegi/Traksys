<nav class="navbar">
  <div class="navbar-brand">
    <div class="logo" (click)="navigateToHome()">
      <img src="/logo.png" alt="Traksys Logo">
    </div>
  </div>

  <div class="navbar-nav">
    <a [routerLink]="route1" [ngClass]="{ 'active': isActive(route1) }" class="nav-item">
      <i class="fas fa-home"></i>
      <span>Home</span>
    </a>
    <a [routerLink]="route2" [ngClass]="{ 'active': isActive(route2) }" class="nav-item">
      <i class="fas fa-tasks"></i>
      <span>To Do</span>
    </a>
    <a [routerLink]="route3" [ngClass]="{ 'active': isActive(route3) }" class="nav-item active">
      <i class="fas fa-folder"></i>
      <span>Projects</span>
    </a>
    <a [routerLink]="route4" [ngClass]="{ 'active': isActive(route4) }" class="nav-item">
      <i class="fa-solid fa-gears"></i>
      <span>Resources</span>
    </a>
    <a [routerLink]="route5" [ngClass]="{ 'active': isActive(route5) }" class="nav-item">
      <i class="fas fa-boxes"></i>
      <span>Stock</span>
    </a>
  </div>

  <div class="navbar-actions">
    <div class="notification-dropdown">
      <button class="nav-btn" (click)="toggleNotifications()">
        <i class="fas fa-bell"></i>
        <span class="notification-badge" *ngIf="unreadCount > 0">{{ unreadCount }}</span>
      </button>
      <div class="dropdown-menu" [class.show]="isNotificationOpen">
        <div class="dropdown-header">
          <span>Notifications</span>
          <button class="mark-all-read" *ngIf="unreadCount > 0" (click)="markAllAsRead()">
            Mark all read
          </button>
        </div>
        
        <div class="notifications-list">
          <div 
            class="notification-item" 
            *ngFor="let notification of notifications" 
            [class.unread]="!notification.read"
            (click)="markAsRead(notification)">
            
            <div class="notification-icon" [class]="'type-' + notification.type">
              <i class="fas" [class]="getNotificationIcon(notification.type)"></i>
            </div>
            
            <div class="notification-content">
              <div class="notification-title">{{ notification.title }}</div>
              <div class="notification-message">{{ notification.message }}</div>
              <div class="notification-time">{{ getTimeAgo(notification.timestamp) }}</div>
            </div>
            
            <button 
              class="clear-btn" 
              (click)="clearNotification(notification, $event)"
              title="Remove notification">
              <i class="fas fa-times"></i>
            </button>
          </div>
          
          <div class="no-notifications" *ngIf="notifications.length === 0">
            <i class="fas fa-bell-slash"></i>
            <p>No notifications</p>
          </div>
        </div>
      </div>
    </div>

    <div class="profile-dropdown">
      <button class="nav-btn profile-btn">
        <span class="profile-initials">{{ getUserInitials() }}</span>
      </button>
      <div class="dropdown-menu">
        <div class="dropdown-item" (click)="signOut()">
          <i class="fas fa-sign-out-alt"></i>
          Sign Out
        </div>
      </div>
    </div>
  </div>
</nav>

